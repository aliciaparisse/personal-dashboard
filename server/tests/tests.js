/**
 * Created by parisse on 21.4.2016.
 */
/*
var activityTreatment = require('./pointsActivityTreatment')

var course48Week7 = {"api_version":7,"users_to_points":{"theodosp":[{"point":"2.1","time":"2015-11-05 18:41:27.730539"},{"point":"2.2","time":"2015-11-05 18:41:27.730539"},{"point":"3.1","time":"2015-11-06 16:37:55.519107"},{"point":"3.2","time":"2015-11-06 16:37:55.519107"},{"point":"3.3","time":"2015-11-06 16:41:04.665293"},{"point":"3.4","time":"2015-11-06 16:41:04.665293"},{"point":"4.1","time":"2015-11-06 20:06:16.269014"},{"point":"4.2","time":"2015-11-06 20:06:16.269014"},{"point":"4.3","time":"2015-11-06 20:06:16.269014"},{"point":"4.4","time":"2015-11-06 20:06:16.269014"},{"point":"4.5","time":"2015-11-06 20:06:16.269014"},{"point":"4.6","time":"2015-11-06 20:06:16.269014"},{"point":"4.7","time":"2015-11-06 20:06:16.269014"},{"point":"4.8","time":"2015-11-06 20:06:16.269014"},{"point":"5","time":"2015-11-07 09:02:18.443113"},{"point":"6","time":"2015-11-07 09:25:22.659105"},{"point":"1","time":"2015-11-05 17:42:41.392083"},{"point":"7.1","time":"2015-11-08 17:13:40.593324"},{"point":"7.2","time":"2015-11-08 17:13:40.593324"},{"point":"7.3","time":"2015-11-08 17:13:40.593324"},{"point":"7.4","time":"2015-11-08 17:13:40.593324"},{"point":"7.5","time":"2015-11-08 17:13:40.593324"},{"point":"8.1","time":"2015-11-10 14:54:52.804324"},{"point":"8.2","time":"2015-11-10 14:54:52.804324"},{"point":"8.3","time":"2015-11-10 14:54:52.804324"}],"teroant":[{"point":"2.1","time":"2015-11-07 21:28:48.908398"},{"point":"2.2","time":"2015-11-07 21:28:48.908398"},{"point":"3.1","time":"2015-11-07 20:33:33.64618"},{"point":"3.2","time":"2015-11-07 20:33:33.64618"},{"point":"3.3","time":"2015-11-07 20:33:33.64618"},{"point":"3.4","time":"2015-11-07 20:33:33.64618"}],"davidv":[{"point":"2.1","time":"2015-11-15 22:00:30.357882"},{"point":"2.2","time":"2015-11-15 22:00:30.357882"},{"point":"3.1","time":"2015-11-15 22:21:23.903245"},{"point":"3.2","time":"2015-11-15 22:21:23.903245"},{"point":"3.3","time":"2015-11-18 07:30:40.439333"},{"point":"3.4","time":"2015-11-15 22:21:23.903245"},{"point":"4.1","time":"2015-11-18 07:10:38.801312"},{"point":"4.2","time":"2015-11-18 07:10:38.801312"},{"point":"4.3","time":"2015-11-18 07:10:38.801312"},{"point":"4.4","time":"2015-11-18 07:10:38.801312"},{"point":"4.5","time":"2015-11-18 07:10:38.801312"},{"point":"4.6","time":"2015-11-18 07:10:38.801312"},{"point":"4.7","time":"2015-11-18 07:10:38.801312"},{"point":"4.8","time":"2015-11-18 07:10:38.801312"},{"point":"5","time":"2015-11-16 18:37:22.541257"},{"point":"6","time":"2015-11-16 18:42:41.951216"},{"point":"7.1","time":"2015-11-16 19:04:36.301245"},{"point":"7.2","time":"2015-11-16 19:04:36.301245"},{"point":"7.3","time":"2015-11-16 19:04:36.301245"},{"point":"7.4","time":"2015-11-16 19:04:36.301245"},{"point":"7.5","time":"2015-11-16 19:04:36.301245"}],"vaclavm":[{"point":"2.1","time":"2015-12-04 20:55:10.481055"},{"point":"2.2","time":"2015-12-04 20:55:10.481055"},{"point":"3.1","time":"2015-12-05 16:20:45.474117"},{"point":"3.2","time":"2015-12-05 16:20:45.474117"},{"point":"3.3","time":"2015-12-05 16:20:45.474117"},{"point":"3.4","time":"2015-12-05 16:20:45.474117"},{"point":"4.1","time":"2015-12-09 14:51:11.980558"},{"point":"4.2","time":"2015-12-09 14:51:11.980558"},{"point":"4.3","time":"2015-12-09 14:51:11.980558"},{"point":"4.4","time":"2015-12-09 14:51:11.980558"},{"point":"4.5","time":"2015-12-09 14:51:11.980558"},{"point":"4.6","time":"2015-12-09 14:51:11.980558"},{"point":"4.7","time":"2015-12-09 14:51:11.980558"},{"point":"4.8","time":"2015-12-09 14:51:11.980558"},{"point":"5","time":"2015-12-09 14:56:36.157378"},{"point":"6","time":"2015-12-09 15:04:05.56481"},{"point":"1","time":"2015-12-04 20:31:30.781824"},{"point":"7.1","time":"2015-12-09 15:28:48.477432"},{"point":"7.2","time":"2015-12-09 15:28:48.477432"},{"point":"7.3","time":"2015-12-09 15:28:48.477432"},{"point":"7.4","time":"2015-12-09 15:28:48.477432"},{"point":"7.5","time":"2015-12-09 15:28:48.477432"}],"mjilek@metropolia.fi":[{"point":"2.1","time":"2015-10-29 12:44:13.692998"},{"point":"2.2","time":"2015-10-29 12:44:13.692998"},{"point":"3.1","time":"2015-10-29 12:57:23.351503"},{"point":"3.2","time":"2015-10-29 12:57:23.351503"},{"point":"3.3","time":"2015-10-29 12:58:04.758832"},{"point":"3.4","time":"2015-10-29 12:57:23.351503"},{"point":"4.1","time":"2015-10-29 13:38:19.076079"},{"point":"4.2","time":"2015-10-29 13:38:19.076079"},{"point":"4.3","time":"2015-10-29 13:38:19.076079"},{"point":"4.4","time":"2015-10-29 13:38:19.076079"},{"point":"4.5","time":"2015-10-29 13:38:19.076079"},{"point":"4.6","time":"2015-10-29 13:38:19.076079"},{"point":"4.7","time":"2015-10-29 13:38:19.076079"},{"point":"4.8","time":"2015-10-29 13:38:19.076079"},{"point":"5","time":"2015-10-29 13:41:35.519692"},{"point":"6","time":"2015-10-29 13:49:36.703554"},{"point":"1","time":"2015-10-29 12:32:38.770844"},{"point":"7.1","time":"2015-10-29 14:07:20.465664"},{"point":"7.2","time":"2015-10-29 14:07:20.465664"},{"point":"7.3","time":"2015-10-29 14:07:20.465664"},{"point":"7.4","time":"2015-10-29 14:07:20.465664"},{"point":"7.5","time":"2015-10-29 14:07:20.465664"},{"point":"8.1","time":"2015-10-29 14:56:47.000195"},{"point":"8.2","time":"2015-10-29 14:56:47.000195"},{"point":"8.3","time":"2015-10-29 14:56:47.000195"}],"haria":[{"point":"2.1","time":"2016-01-31 19:07:30.498892"},{"point":"2.2","time":"2016-01-31 19:07:30.498892"},{"point":"3.1","time":"2016-02-01 18:06:32.987831"},{"point":"3.2","time":"2016-02-01 18:06:32.987831"},{"point":"3.3","time":"2016-02-01 18:06:32.987831"},{"point":"3.4","time":"2016-02-01 18:06:32.987831"},{"point":"1","time":"2016-01-24 12:33:35.416157"}],"tvtri96":[{"point":"2.1","time":"2015-11-08 10:34:08.001646"},{"point":"2.2","time":"2015-11-08 10:34:08.001646"},{"point":"3.1","time":"2015-11-08 10:35:22.962519"},{"point":"3.2","time":"2015-11-08 10:35:22.962519"},{"point":"3.3","time":"2015-11-08 10:35:22.962519"},{"point":"3.4","time":"2015-11-08 10:35:22.962519"},{"point":"4.1","time":"2015-11-08 10:37:00.971558"},{"point":"4.2","time":"2015-11-08 10:37:00.971558"},{"point":"4.3","time":"2015-11-08 10:37:00.971558"},{"point":"4.4","time":"2015-11-08 10:37:00.971558"},{"point":"4.5","time":"2015-11-08 10:37:00.971558"},{"point":"4.6","time":"2015-11-08 10:37:00.971558"},{"point":"4.7","time":"2015-11-08 10:37:00.971558"},{"point":"4.8","time":"2015-11-08 10:37:00.971558"},{"point":"5","time":"2015-11-08 10:37:22.769345"},{"point":"6","time":"2015-11-08 10:38:01.249927"},{"point":"1","time":"2015-11-08 10:31:51.864609"},{"point":"7.1","time":"2015-11-08 10:39:17.791335"},{"point":"7.2","time":"2015-11-08 10:39:17.791335"},{"point":"7.3","time":"2015-11-08 10:39:17.791335"},{"point":"7.4","time":"2015-11-08 10:39:17.791335"},{"point":"7.5","time":"2015-11-08 10:39:17.791335"},{"point":"8.1","time":"2015-11-08 10:40:42.024502"},{"point":"8.2","time":"2015-11-08 10:40:42.024502"},{"point":"8.3","time":"2015-11-08 10:40:42.024502"}],"loush94":[{"point":"2.1","time":"2015-11-05 21:51:45.407807"},{"point":"2.2","time":"2015-11-05 21:51:45.407807"},{"point":"3.1","time":"2015-11-05 22:07:06.777277"},{"point":"3.2","time":"2015-11-05 22:06:30.395853"},{"point":"3.3","time":"2015-11-05 22:09:18.977057"},{"point":"3.4","time":"2015-11-05 22:05:47.409337"},{"point":"4.1","time":"2015-11-05 22:16:12.345321"},{"point":"4.2","time":"2015-11-05 22:16:12.345321"},{"point":"4.3","time":"2015-11-05 22:34:54.204004"},{"point":"4.4","time":"2015-11-05 22:32:58.66229"},{"point":"4.5","time":"2015-11-05 22:32:58.66229"},{"point":"4.6","time":"2015-11-05 22:32:58.66229"},{"point":"4.7","time":"2015-11-05 22:32:58.66229"},{"point":"4.8","time":"2015-11-05 22:32:58.66229"},{"point":"5","time":"2015-11-05 22:37:45.096325"},{"point":"6","time":"2015-11-05 22:43:46.855728"},{"point":"1","time":"2015-11-05 21:45:04.13832"},{"point":"7.1","time":"2015-11-05 23:01:02.33468"},{"point":"7.2","time":"2015-11-05 23:01:02.33468"},{"point":"7.3","time":"2015-11-05 23:01:02.33468"},{"point":"7.4","time":"2015-11-05 23:00:36.273218"},{"point":"7.5","time":"2015-11-05 23:00:36.273218"},{"point":"8.1","time":"2015-11-06 09:21:19.470306"},{"point":"8.2","time":"2015-11-06 09:21:19.470306"},{"point":"8.3","time":"2015-11-06 09:21:19.470306"}],"hieule":[{"point":"2.1","time":"2015-11-14 21:33:37.97841"},{"point":"2.2","time":"2015-11-14 21:33:37.97841"},{"point":"3.1","time":"2015-11-14 21:46:36.756226"},{"point":"3.2","time":"2015-11-14 21:46:36.756226"},{"point":"3.3","time":"2015-11-14 21:46:36.756226"},{"point":"3.4","time":"2015-11-14 21:46:36.756226"},{"point":"4.1","time":"2015-11-27 23:54:38.807226"},{"point":"4.2","time":"2015-11-27 23:54:38.807226"},{"point":"4.3","time":"2015-11-27 23:54:38.807226"},{"point":"4.4","time":"2015-11-27 23:54:38.807226"},{"point":"4.5","time":"2015-11-27 23:54:38.807226"},{"point":"4.6","time":"2015-11-27 23:55:43.607165"},{"point":"4.7","time":"2015-11-27 23:54:38.807226"},{"point":"4.8","time":"2015-11-27 23:55:43.607165"},{"point":"5","time":"2015-11-28 00:06:39.178702"},{"point":"6","time":"2015-11-28 00:17:53.519223"},{"point":"1","time":"2015-11-14 21:20:42.933806"},{"point":"7.1","time":"2015-11-28 00:41:22.97426"},{"point":"7.2","time":"2015-11-28 00:41:22.97426"},{"point":"7.3","time":"2015-11-28 00:41:22.97426"},{"point":"7.4","time":"2015-11-28 00:41:22.97426"},{"point":"7.5","time":"2015-11-28 00:41:22.97426"},{"point":"8.1","time":"2015-11-28 01:27:00.199754"},{"point":"8.2","time":"2015-11-28 01:27:00.199754"},{"point":"8.3","time":"2015-11-28 01:27:00.199754"}],"jarnva":[{"point":"2.1","time":"2015-11-06 12:35:10.811455"},{"point":"2.2","time":"2015-11-06 12:35:10.811455"},{"point":"3.1","time":"2015-11-06 13:51:20.173868"},{"point":"3.2","time":"2015-11-06 13:51:20.173868"},{"point":"3.3","time":"2015-11-06 13:51:20.173868"},{"point":"3.4","time":"2015-11-06 13:51:20.173868"},{"point":"4.1","time":"2015-11-06 14:21:29.133967"},{"point":"4.2","time":"2015-11-06 14:21:29.133967"},{"point":"4.3","time":"2015-11-06 14:21:29.133967"},{"point":"4.4","time":"2015-11-06 14:21:29.133967"},{"point":"4.5","time":"2015-11-06 14:21:29.133967"},{"point":"4.6","time":"2015-11-06 14:21:29.133967"},{"point":"4.7","time":"2015-11-06 14:21:29.133967"},{"point":"4.8","time":"2015-11-06 14:21:29.133967"},{"point":"5","time":"2015-11-06 14:25:50.542146"},{"point":"6","time":"2015-11-06 14:31:38.549412"},{"point":"1","time":"2015-11-06 12:12:51.743279"},{"point":"7.1","time":"2015-11-06 19:10:01.281588"},{"point":"7.2","time":"2015-11-06 19:10:01.281588"},{"point":"7.3","time":"2015-11-06 19:10:01.281588"},{"point":"7.4","time":"2015-11-06 19:10:01.281588"},{"point":"7.5","time":"2015-11-06 19:10:01.281588"},{"point":"8.1","time":"2015-11-21 14:49:20.471347"},{"point":"8.2","time":"2015-11-21 14:49:20.471347"},{"point":"8.3","time":"2015-11-21 14:49:20.471347"}],"ducle":[{"point":"2.1","time":"2015-10-19 17:51:31.659491"},{"point":"2.2","time":"2015-10-19 17:51:31.659491"},{"point":"3.1","time":"2015-10-19 17:55:18.634865"},{"point":"3.2","time":"2015-10-19 17:55:18.634865"},{"point":"3.3","time":"2015-10-19 17:55:18.634865"},{"point":"3.4","time":"2015-10-19 17:55:18.634865"},{"point":"4.1","time":"2015-10-19 17:59:09.486777"},{"point":"4.2","time":"2015-10-19 17:59:09.486777"},{"point":"4.3","time":"2015-10-19 17:59:09.486777"},{"point":"4.4","time":"2015-10-19 17:59:09.486777"},{"point":"4.5","time":"2015-10-19 17:59:09.486777"},{"point":"4.6","time":"2015-10-19 17:59:09.486777"},{"point":"4.7","time":"2015-10-19 17:59:09.486777"},{"point":"4.8","time":"2015-10-19 17:59:09.486777"},{"point":"5","time":"2015-10-19 18:00:46.580091"},{"point":"6","time":"2015-10-19 18:03:29.900938"},{"point":"1","time":"2015-10-19 17:48:05.618287"},{"point":"7.1","time":"2015-10-19 18:11:49.048956"},{"point":"7.2","time":"2015-10-19 18:11:49.048956"},{"point":"7.3","time":"2015-10-19 18:11:49.048956"},{"point":"7.4","time":"2015-10-19 18:11:49.048956"},{"point":"7.5","time":"2015-10-19 18:11:49.048956"},{"point":"8.1","time":"2015-10-19 18:16:14.062967"},{"point":"8.2","time":"2015-10-19 18:16:14.062967"},{"point":"8.3","time":"2015-10-19 18:16:14.062967"}],"jamied":[{"point":"2.1","time":"2015-11-06 12:18:50.732906"},{"point":"2.2","time":"2015-11-06 12:18:50.732906"},{"point":"3.1","time":"2015-11-06 13:08:02.029108"},{"point":"3.2","time":"2015-11-06 13:08:43.066012"},{"point":"3.3","time":"2015-11-06 13:15:33.801801"},{"point":"3.4","time":"2015-11-06 13:08:02.029108"},{"point":"4.1","time":"2015-11-06 14:04:38.866432"},{"point":"4.2","time":"2015-11-06 14:04:38.866432"},{"point":"4.3","time":"2015-11-06 14:04:38.866432"},{"point":"4.4","time":"2015-11-06 14:04:38.866432"},{"point":"4.5","time":"2015-11-06 14:06:55.535716"},{"point":"4.6","time":"2015-11-06 14:11:49.884515"},{"point":"4.7","time":"2015-11-06 14:11:49.884515"},{"point":"4.8","time":"2015-11-06 14:20:02.814876"},{"point":"5","time":"2015-11-06 14:19:38.519924"},{"point":"6","time":"2015-11-06 14:27:09.020386"},{"point":"1","time":"2015-11-06 12:03:19.354427"},{"point":"7.1","time":"2015-11-06 15:08:38.685047"},{"point":"7.2","time":"2015-11-06 15:08:38.685047"},{"point":"7.3","time":"2015-11-06 15:08:38.685047"},{"point":"7.4","time":"2015-11-06 15:08:38.685047"},{"point":"7.5","time":"2015-11-06 15:08:38.685047"},{"point":"8.1","time":"2015-11-06 20:27:27.512478"},{"point":"8.2","time":"2015-11-06 20:27:27.512478"},{"point":"8.3","time":"2015-11-06 20:27:27.512478"}],"sonc":[{"point":"2.1","time":"2015-10-14 15:38:57.936184"},{"point":"2.2","time":"2015-10-14 15:38:57.936184"},{"point":"3.1","time":"2015-10-14 15:56:16.353623"},{"point":"3.2","time":"2015-10-14 15:56:16.353623"},{"point":"3.3","time":"2015-10-14 15:56:16.353623"},{"point":"3.4","time":"2015-10-14 15:56:16.353623"},{"point":"4.1","time":"2015-10-14 17:20:39.255956"},{"point":"4.2","time":"2015-10-14 17:20:39.255956"},{"point":"4.3","time":"2015-10-14 17:20:39.255956"},{"point":"4.4","time":"2015-10-14 17:20:39.255956"},{"point":"4.5","time":"2015-10-14 17:20:39.255956"},{"point":"4.6","time":"2015-10-14 17:20:39.255956"},{"point":"4.7","time":"2015-10-14 17:20:39.255956"},{"point":"4.8","time":"2015-10-14 17:20:39.255956"},{"point":"5","time":"2015-10-14 18:11:21.949283"},{"point":"6","time":"2015-10-14 18:22:43.040955"},{"point":"1","time":"2015-10-14 15:22:02.625201"},{"point":"7.1","time":"2015-10-14 18:40:00.693266"},{"point":"7.2","time":"2015-10-14 18:40:00.693266"},{"point":"7.3","time":"2015-10-14 18:40:00.693266"},{"point":"7.4","time":"2015-10-14 18:40:00.693266"},{"point":"7.5","time":"2015-10-14 18:40:00.693266"},{"point":"8.1","time":"2015-12-10 21:29:53.513412"},{"point":"8.2","time":"2015-12-10 21:29:53.513412"},{"point":"8.3","time":"2015-12-10 21:29:53.513412"}],"duonghailee":[{"point":"2.1","time":"2015-11-21 09:43:29.738728"},{"point":"2.2","time":"2015-11-21 09:58:45.79802"},{"point":"3.1","time":"2015-11-21 10:10:22.483414"},{"point":"3.2","time":"2015-11-21 10:57:44.427538"},{"point":"3.3","time":"2015-11-21 10:52:38.673927"},{"point":"3.4","time":"2015-11-21 10:57:44.427538"},{"point":"4.1","time":"2015-11-22 12:19:19.634722"},{"point":"4.2","time":"2015-11-22 12:58:32.416283"},{"point":"4.3","time":"2015-11-22 13:06:10.749794"},{"point":"4.4","time":"2015-11-22 13:14:10.467715"},{"point":"4.5","time":"2015-11-22 13:28:12.427294"},{"point":"4.6","time":"2015-11-22 15:26:55.955004"},{"point":"4.7","time":"2015-11-22 15:26:55.955004"},{"point":"4.8","time":"2015-11-22 15:35:04.738512"},{"point":"5","time":"2015-11-22 15:51:14.60137"},{"point":"6","time":"2015-11-28 17:25:29.863745"},{"point":"1","time":"2015-11-21 09:30:49.163546"},{"point":"7.1","time":"2015-11-28 17:34:25.097943"},{"point":"7.2","time":"2015-11-28 17:43:41.62764"},{"point":"7.3","time":"2015-11-28 18:08:16.88352"},{"point":"7.4","time":"2015-11-28 18:52:46.955055"},{"point":"7.5","time":"2015-11-28 18:57:51.322366"},{"point":"8.1","time":"2015-11-28 19:34:35.843696"},{"point":"8.2","time":"2015-11-28 19:34:35.843696"},{"point":"8.3","time":"2015-11-28 19:34:35.843696"}],"ameeba":[{"point":"2.1","time":"2015-10-07 03:51:32.876629"},{"point":"2.2","time":"2015-10-07 03:51:32.876629"},{"point":"3.1","time":"2015-10-07 18:41:41.756241"},{"point":"3.2","time":"2015-10-07 18:41:41.756241"},{"point":"3.3","time":"2015-10-07 18:41:41.756241"},{"point":"3.4","time":"2015-10-07 18:41:41.756241"},{"point":"4.1","time":"2015-10-08 14:27:40.24504"},{"point":"4.2","time":"2015-10-08 14:27:40.24504"},{"point":"4.3","time":"2015-10-08 14:27:40.24504"},{"point":"4.4","time":"2015-10-08 14:27:40.24504"},{"point":"4.5","time":"2015-10-08 14:27:40.24504"},{"point":"4.6","time":"2015-10-08 14:27:40.24504"},{"point":"4.7","time":"2015-10-08 14:27:40.24504"},{"point":"4.8","time":"2015-10-08 14:27:40.24504"},{"point":"5","time":"2015-10-08 14:36:09.413235"},{"point":"6","time":"2015-10-08 16:53:41.668609"},{"point":"1","time":"2015-10-06 19:01:07.292602"},{"point":"7.1","time":"2015-10-09 13:06:53.025023"},{"point":"7.2","time":"2015-10-09 13:06:53.025023"},{"point":"7.3","time":"2015-10-09 13:06:53.025023"},{"point":"7.4","time":"2015-10-09 13:06:53.025023"},{"point":"7.5","time":"2015-10-09 13:06:53.025023"},{"point":"8.1","time":"2015-10-09 19:47:58.391548"},{"point":"8.2","time":"2015-10-09 19:47:58.391548"},{"point":"8.3","time":"2015-10-09 19:47:58.391548"}],"mesudarshan":[{"point":"2.1","time":"2015-12-04 09:43:19.43919"},{"point":"2.2","time":"2015-12-17 02:34:21.847343"},{"point":"3.1","time":"2015-12-04 09:22:42.040859"},{"point":"3.2","time":"2015-12-04 09:22:42.040859"},{"point":"3.3","time":"2015-12-04 09:22:42.040859"},{"point":"3.4","time":"2015-12-04 09:22:42.040859"},{"point":"4.1","time":"2015-12-04 09:34:24.006474"},{"point":"4.2","time":"2015-12-04 09:34:24.006474"},{"point":"4.3","time":"2015-12-04 09:34:24.006474"},{"point":"4.4","time":"2015-12-04 09:34:24.006474"},{"point":"4.5","time":"2015-12-04 09:34:24.006474"},{"point":"4.6","time":"2015-12-04 09:34:24.006474"},{"point":"4.7","time":"2015-12-04 09:34:24.006474"},{"point":"4.8","time":"2015-12-04 09:34:24.006474"},{"point":"5","time":"2015-12-04 09:25:33.802494"},{"point":"6","time":"2015-12-04 09:27:40.083367"},{"point":"1","time":"2015-12-04 09:51:19.015887"},{"point":"7.1","time":"2015-12-04 09:53:49.690766"},{"point":"7.2","time":"2015-12-04 09:53:49.690766"},{"point":"7.3","time":"2015-12-04 09:53:49.690766"},{"point":"7.4","time":"2015-12-04 09:53:49.690766"},{"point":"7.5","time":"2015-12-04 09:53:49.690766"}],"abood":[{"point":"2.1","time":"2015-11-30 22:39:37.367982"},{"point":"2.2","time":"2015-11-30 22:39:37.367982"},{"point":"3.1","time":"2015-12-01 21:32:34.588417"},{"point":"3.2","time":"2015-12-01 21:32:34.588417"},{"point":"3.3","time":"2015-12-01 21:32:34.588417"},{"point":"3.4","time":"2015-12-01 21:32:34.588417"},{"point":"4.1","time":"2015-12-01 22:33:52.103302"},{"point":"4.2","time":"2015-12-01 22:33:52.103302"},{"point":"4.3","time":"2015-12-01 22:33:52.103302"},{"point":"4.4","time":"2015-12-01 22:33:52.103302"},{"point":"4.5","time":"2015-12-01 22:33:52.103302"},{"point":"4.6","time":"2015-12-01 22:33:52.103302"},{"point":"4.7","time":"2015-12-01 22:33:52.103302"},{"point":"4.8","time":"2015-12-01 22:33:52.103302"},{"point":"5","time":"2015-12-02 19:16:18.347594"},{"point":"6","time":"2015-12-02 19:32:31.718003"},{"point":"1","time":"2015-11-30 21:49:57.335736"},{"point":"7.1","time":"2015-12-02 20:31:57.54414"},{"point":"7.2","time":"2015-12-02 20:31:57.54414"},{"point":"7.3","time":"2015-12-02 20:31:57.54414"},{"point":"7.4","time":"2015-12-02 20:31:57.54414"},{"point":"7.5","time":"2015-12-02 20:31:57.54414"},{"point":"8.1","time":"2015-12-04 21:31:49.766953"},{"point":"8.2","time":"2015-12-04 21:31:49.766953"},{"point":"8.3","time":"2015-12-04 21:31:49.766953"}],"Kir23":[{"point":"2.1","time":"2015-11-13 19:24:08.090567"},{"point":"2.2","time":"2015-11-13 19:24:08.090567"},{"point":"3.1","time":"2015-11-13 21:31:43.422122"},{"point":"3.2","time":"2015-11-13 21:31:43.422122"},{"point":"3.3","time":"2015-11-13 21:31:43.422122"},{"point":"3.4","time":"2015-11-13 21:31:43.422122"},{"point":"4.1","time":"2015-11-14 20:14:25.364676"},{"point":"4.2","time":"2015-11-14 20:14:25.364676"},{"point":"4.3","time":"2015-11-14 20:14:25.364676"},{"point":"4.4","time":"2015-11-14 20:14:25.364676"},{"point":"4.5","time":"2015-11-14 20:14:25.364676"},{"point":"4.6","time":"2015-11-14 20:14:25.364676"},{"point":"4.7","time":"2015-11-14 20:14:25.364676"},{"point":"4.8","time":"2015-11-14 20:14:25.364676"},{"point":"5","time":"2015-11-14 20:41:19.895952"},{"point":"6","time":"2015-11-15 11:14:03.557471"},{"point":"1","time":"2015-11-13 19:04:34.749851"},{"point":"7.1","time":"2015-11-15 11:48:40.368298"},{"point":"7.2","time":"2015-11-15 11:48:40.368298"},{"point":"7.3","time":"2015-11-15 11:48:40.368298"},{"point":"7.4","time":"2015-11-15 11:48:40.368298"},{"point":"7.5","time":"2015-11-15 11:48:40.368298"},{"point":"8.1","time":"2015-11-15 13:50:57.112411"},{"point":"8.2","time":"2015-11-15 13:50:57.112411"},{"point":"8.3","time":"2015-11-15 13:50:57.112411"}],"mateyn":[{"point":"2.1","time":"2015-12-08 11:15:10.069765"},{"point":"2.2","time":"2015-12-08 11:15:10.069765"},{"point":"3.1","time":"2015-12-08 12:36:09.273919"},{"point":"3.2","time":"2015-12-08 12:36:09.273919"},{"point":"3.3","time":"2015-12-08 12:36:09.273919"},{"point":"3.4","time":"2015-12-08 12:36:09.273919"},{"point":"4.1","time":"2015-12-08 15:57:26.902559"},{"point":"4.2","time":"2015-12-08 15:57:26.902559"},{"point":"4.3","time":"2015-12-08 15:57:26.902559"},{"point":"4.4","time":"2015-12-08 15:57:26.902559"},{"point":"4.5","time":"2015-12-08 15:57:26.902559"},{"point":"4.6","time":"2015-12-08 15:57:26.902559"},{"point":"4.7","time":"2015-12-08 15:57:26.902559"},{"point":"4.8","time":"2015-12-08 15:57:26.902559"},{"point":"5","time":"2015-12-08 16:17:02.426888"},{"point":"6","time":"2015-12-08 16:46:17.052475"},{"point":"1","time":"2015-12-08 10:49:23.854046"},{"point":"7.1","time":"2015-12-15 17:21:49.269302"},{"point":"7.2","time":"2015-12-15 17:21:49.269302"},{"point":"7.3","time":"2015-12-15 17:21:49.269302"},{"point":"7.4","time":"2015-12-15 17:21:49.269302"},{"point":"7.5","time":"2015-12-15 17:21:49.269302"}],"robert.stankevich":[{"point":"2.1","time":"2015-11-12 17:02:44.762008"},{"point":"2.2","time":"2015-11-12 17:02:44.762008"},{"point":"3.1","time":"2015-11-13 13:50:23.129486"},{"point":"3.2","time":"2015-11-13 13:50:23.129486"},{"point":"3.3","time":"2015-11-13 13:50:23.129486"},{"point":"3.4","time":"2015-11-13 13:50:23.129486"},{"point":"4.1","time":"2015-11-15 11:11:05.524351"},{"point":"4.2","time":"2015-11-15 11:11:05.524351"},{"point":"4.3","time":"2015-11-15 11:11:05.524351"},{"point":"4.4","time":"2015-11-15 11:11:05.524351"},{"point":"4.5","time":"2015-11-15 11:11:05.524351"},{"point":"4.6","time":"2015-11-15 11:11:05.524351"},{"point":"4.7","time":"2015-11-15 11:11:05.524351"},{"point":"4.8","time":"2015-11-15 11:11:05.524351"},{"point":"5","time":"2015-11-15 13:28:13.234409"},{"point":"6","time":"2015-11-15 13:46:43.435897"},{"point":"1","time":"2015-11-12 16:35:14.347225"},{"point":"7.1","time":"2015-11-15 14:16:18.226144"},{"point":"7.2","time":"2015-11-15 14:16:18.226144"},{"point":"7.3","time":"2015-11-15 14:16:18.226144"},{"point":"7.4","time":"2015-11-15 14:16:18.226144"},{"point":"7.5","time":"2015-11-15 14:16:18.226144"},{"point":"8.1","time":"2015-11-19 16:55:49.626826"},{"point":"8.2","time":"2015-11-19 16:55:49.626826"},{"point":"8.3","time":"2015-11-19 16:55:49.626826"}],"Mikaos":[{"point":"2.1","time":"2015-10-07 02:42:37.743668"},{"point":"2.2","time":"2015-10-07 02:42:37.743668"},{"point":"3.1","time":"2015-10-07 03:08:29.869517"},{"point":"3.2","time":"2015-10-07 03:08:29.869517"},{"point":"3.3","time":"2015-10-07 03:08:29.869517"},{"point":"3.4","time":"2015-10-07 03:08:29.869517"},{"point":"4.1","time":"2015-10-07 04:16:01.484304"},{"point":"4.2","time":"2015-10-07 04:16:01.484304"},{"point":"4.3","time":"2015-10-07 04:16:01.484304"},{"point":"4.4","time":"2015-10-07 04:16:01.484304"},{"point":"4.5","time":"2015-10-07 04:16:01.484304"},{"point":"4.6","time":"2015-10-07 04:16:01.484304"},{"point":"4.7","time":"2015-10-07 04:16:01.484304"},{"point":"4.8","time":"2015-10-07 04:16:01.484304"},{"point":"5","time":"2015-10-14 23:59:11.038226"},{"point":"6","time":"2015-10-15 00:30:25.559776"},{"point":"1","time":"2015-10-07 01:51:34.302864"},{"point":"7.1","time":"2015-10-15 01:07:26.029612"},{"point":"7.2","time":"2015-10-15 01:07:26.029612"},{"point":"7.3","time":"2015-10-15 01:07:26.029612"},{"point":"7.4","time":"2015-10-15 01:07:26.029612"},{"point":"7.5","time":"2015-10-15 01:07:26.029612"},{"point":"8.1","time":"2015-10-15 02:29:35.903205"},{"point":"8.2","time":"2015-10-15 02:29:35.903205"},{"point":"8.3","time":"2015-10-15 02:29:35.903205"}],"saschab":[{"point":"2.1","time":"2015-10-21 08:57:15.165814"},{"point":"2.2","time":"2015-10-21 08:57:15.165814"},{"point":"3.1","time":"2015-10-21 09:41:08.1579"},{"point":"3.2","time":"2015-10-21 09:41:08.1579"},{"point":"3.3","time":"2015-10-21 09:41:08.1579"},{"point":"3.4","time":"2015-10-21 09:41:08.1579"},{"point":"4.1","time":"2015-10-31 14:45:28.270896"},{"point":"4.2","time":"2015-10-31 14:45:28.270896"},{"point":"4.3","time":"2015-10-31 14:45:28.270896"},{"point":"4.4","time":"2015-10-31 14:45:28.270896"},{"point":"4.5","time":"2015-10-31 14:45:28.270896"},{"point":"4.6","time":"2015-10-31 14:45:28.270896"},{"point":"4.7","time":"2015-10-31 14:45:28.270896"},{"point":"4.8","time":"2015-10-31 14:45:28.270896"},{"point":"5","time":"2015-10-31 16:11:42.968688"},{"point":"6","time":"2015-11-01 16:26:31.177302"},{"point":"1","time":"2015-10-20 11:31:20.60196"},{"point":"7.1","time":"2015-11-01 17:10:29.312108"},{"point":"7.2","time":"2015-11-01 17:10:29.312108"},{"point":"7.3","time":"2015-11-01 17:10:29.312108"},{"point":"7.4","time":"2015-11-01 17:10:29.312108"},{"point":"7.5","time":"2015-11-01 17:10:29.312108"},{"point":"8.1","time":"2015-11-14 11:16:56.373876"},{"point":"8.2","time":"2015-11-14 11:16:56.373876"},{"point":"8.3","time":"2015-11-14 11:16:56.373876"}],"1504210":[{"point":"2.1","time":"2015-11-04 17:46:35.637404"},{"point":"2.2","time":"2015-11-04 17:46:35.637404"},{"point":"3.1","time":"2015-11-04 18:24:44.934739"},{"point":"3.2","time":"2015-11-04 18:24:44.934739"},{"point":"3.3","time":"2015-11-04 18:24:44.934739"},{"point":"3.4","time":"2015-11-04 18:24:44.934739"},{"point":"4.1","time":"2015-11-05 22:55:46.502346"},{"point":"4.2","time":"2015-11-05 22:55:46.502346"},{"point":"4.3","time":"2015-11-05 22:55:46.502346"},{"point":"4.4","time":"2015-11-05 22:55:46.502346"},{"point":"4.5","time":"2015-11-05 22:55:46.502346"},{"point":"4.6","time":"2015-11-05 22:55:46.502346"},{"point":"4.7","time":"2015-11-05 22:55:46.502346"},{"point":"4.8","time":"2015-11-05 22:55:46.502346"},{"point":"5","time":"2015-11-06 07:28:34.486512"},{"point":"6","time":"2015-11-06 10:07:01.559612"},{"point":"1","time":"2015-11-04 15:28:26.497146"},{"point":"7.1","time":"2015-11-06 12:50:13.534782"},{"point":"7.2","time":"2015-11-06 12:50:13.534782"},{"point":"7.3","time":"2015-11-06 12:50:13.534782"},{"point":"7.4","time":"2015-11-06 12:50:13.534782"},{"point":"7.5","time":"2015-11-06 12:50:13.534782"},{"point":"8.1","time":"2015-11-06 20:07:35.958406"},{"point":"8.2","time":"2015-11-06 20:07:35.958406"},{"point":"8.3","time":"2015-11-06 20:07:35.958406"}],"1504203":[{"point":"2.1","time":"2015-11-24 08:54:39.786365"},{"point":"2.2","time":"2015-11-24 10:47:53.488021"},{"point":"3.1","time":"2015-11-24 12:26:51.18639"},{"point":"3.2","time":"2015-11-24 12:45:30.009072"},{"point":"3.3","time":"2015-11-24 15:20:45.083768"},{"point":"3.4","time":"2015-11-24 15:22:51.404865"},{"point":"4.1","time":"2015-11-24 17:22:11.956806"},{"point":"4.2","time":"2015-11-24 18:01:11.529948"},{"point":"4.3","time":"2015-11-24 18:01:11.529948"},{"point":"4.4","time":"2015-11-24 18:01:11.529948"},{"point":"4.5","time":"2015-11-24 18:01:11.529948"},{"point":"4.6","time":"2015-11-24 19:24:25.836426"},{"point":"4.7","time":"2015-11-24 19:24:25.836426"},{"point":"4.8","time":"2015-11-24 19:24:25.836426"},{"point":"5","time":"2015-11-25 11:57:27.909226"},{"point":"6","time":"2015-11-25 13:55:27.48977"},{"point":"1","time":"2015-11-23 21:10:35.69361"},{"point":"7.1","time":"2015-11-25 18:35:30.96297"},{"point":"7.2","time":"2015-11-25 18:35:30.96297"},{"point":"7.3","time":"2015-11-25 18:35:30.96297"},{"point":"7.4","time":"2015-11-25 18:35:30.96297"},{"point":"7.5","time":"2015-11-25 18:35:30.96297"},{"point":"8.1","time":"2015-12-01 08:02:04.086179"},{"point":"8.2","time":"2015-12-01 08:02:04.086179"},{"point":"8.3","time":"2015-12-01 08:02:04.086179"}],"1504202":[{"point":"2.1","time":"2015-11-10 18:36:52.031918"},{"point":"2.2","time":"2015-11-10 18:36:52.031918"},{"point":"3.1","time":"2015-11-11 05:26:29.712338"},{"point":"3.2","time":"2015-11-11 05:26:29.712338"},{"point":"3.3","time":"2015-11-11 05:26:29.712338"},{"point":"3.4","time":"2015-11-11 05:26:29.712338"},{"point":"4.1","time":"2015-11-10 20:03:04.502036"},{"point":"4.2","time":"2015-11-10 20:03:04.502036"},{"point":"4.3","time":"2015-11-10 20:03:04.502036"},{"point":"4.4","time":"2015-11-10 20:03:04.502036"},{"point":"4.5","time":"2015-11-10 20:03:04.502036"},{"point":"4.6","time":"2015-11-10 20:03:04.502036"},{"point":"4.7","time":"2015-11-10 20:03:04.502036"},{"point":"4.8","time":"2015-11-10 20:03:04.502036"},{"point":"5","time":"2015-11-11 05:35:34.693262"},{"point":"6","time":"2015-11-11 05:50:41.053366"},{"point":"1","time":"2015-11-06 11:19:17.246361"},{"point":"7.1","time":"2015-11-13 19:42:51.837771"},{"point":"7.2","time":"2015-11-13 19:42:51.837771"},{"point":"7.3","time":"2015-11-13 19:42:51.837771"},{"point":"7.4","time":"2015-11-13 19:30:46.994377"},{"point":"7.5","time":"2015-11-13 19:30:46.994377"},{"point":"8.1","time":"2015-11-14 16:00:08.714896"},{"point":"8.2","time":"2015-11-14 16:00:08.714896"},{"point":"8.3","time":"2015-11-14 16:00:08.714896"}],"meluharan":[{"point":"2.1","time":"2015-12-01 21:11:55.908215"},{"point":"2.2","time":"2015-12-01 21:11:55.908215"},{"point":"3.1","time":"2015-12-01 21:18:37.714479"},{"point":"3.2","time":"2015-12-01 21:18:37.714479"},{"point":"3.3","time":"2015-12-01 21:18:37.714479"},{"point":"3.4","time":"2015-12-01 21:18:37.714479"},{"point":"4.1","time":"2015-12-01 21:22:47.020026"},{"point":"4.2","time":"2015-12-01 21:22:47.020026"},{"point":"4.3","time":"2015-12-01 21:22:47.020026"},{"point":"4.4","time":"2015-12-01 21:22:47.020026"},{"point":"4.5","time":"2015-12-01 21:22:47.020026"},{"point":"4.6","time":"2015-12-01 21:22:47.020026"},{"point":"4.7","time":"2015-12-01 21:22:47.020026"},{"point":"4.8","time":"2015-12-01 21:22:47.020026"},{"point":"5","time":"2015-12-01 21:33:37.609206"},{"point":"6","time":"2015-12-01 21:36:45.124332"},{"point":"1","time":"2015-12-01 21:06:29.480684"},{"point":"7.1","time":"2015-12-01 21:48:08.851963"},{"point":"7.2","time":"2015-12-01 21:48:08.851963"},{"point":"7.3","time":"2015-12-01 21:48:08.851963"},{"point":"7.4","time":"2015-12-01 21:48:08.851963"},{"point":"7.5","time":"2015-12-01 21:48:08.851963"}],"1504217":[{"point":"2.1","time":"2016-02-03 12:38:58.81177"},{"point":"2.2","time":"2016-02-03 12:38:58.81177"},{"point":"3.1","time":"2016-02-03 13:16:39.088345"},{"point":"3.2","time":"2016-02-03 13:16:39.088345"},{"point":"3.3","time":"2016-02-03 13:16:39.088345"},{"point":"3.4","time":"2016-02-03 13:16:39.088345"},{"point":"1","time":"2016-02-02 05:00:10.090037"}],"arsenys":[{"point":"5","time":"2015-12-08 14:20:44.306312"},{"point":"6","time":"2015-12-08 14:35:43.587329"}]}}

var testFormat = function(){
    var testPassed = 0;
    //I put in an object what my function does
    res = activityTreatment.format(course48Week7);
    //I test this object with values I know
    if(res["1504202"]["2015-11-10"] == 10){
        testPassed++;
        console.log("TEST 1 : PASSED");
    }
    else{
        console.log("TEST 1 : FAILED");
        console.log("res[\"1504202\"][\"2015-11-10\"] was expected 10, received "+ res["1504202"]["2015-11-10"]);
    }
}

var testMain = function(){
    testFormat();
}

testMain();*/
var fs = require('fs')
var activityTreatment = require('./../pointsActivityTreatment')
var chai = require('chai');
var request = require("superagent");
var expect = chai.expect;



describe("Test Points Activity Treatment", () => {
    var oauthToken;
    before(() => {
        return new Promise((resolve, reject) =>
        {
            request
                .post('https://hy-canary.testmycode.io/oauth/token')
                .set('Content-Type', 'application/x-www-form-urlencoded')
                .send({
                    client_id: "228e3c5cfc33605da6919b536b51a4d3b4a84ac06aa6f5db64d0964f66535f20",
                    client_secret: "8136718b825475cb108f2c47889a0e85fcbf6866b4206a606fe2f81af21aea90",
                    grant_type: 'password',
                    username: "aparisse",
                    password: "tmcpassword"
                })
                .end(function (err, res) {
                    if (err) {
                        reject(err);
                    }
                    else{
                        oauthToken = res.body;
                        resolve(oauthToken);
                    }
                }
            );
        });
    });


    describe("Testing formatting", () => {
        var course;

        before(() => {
            return new Promise((resolve, reject) =>
            {
                request
                    .get("https://tmc.mooc.fi/org/hy/courses/68/points/week7.json?api_version=7&timestamps=1")
                    .set('Authorization', 'Bearer ' + oauthToken.access_token)
                    .end(function(err, res){
                        if (err){
                            reject(err);
                        }
                        else {
                            course = res.body;
                            resolve(res.body);
                        }
                    });
            })
                /*.then(()=>{

            })*/
                ;
        });

        it("Testing the formating of a single course", function(done){
            var expectedRes = JSON.parse(fs.readFileSync('./tests/results/formatSingleCourse'));
            //var expectedRes = JSON.parse(fs.readFileSync('./results/formatSingleCourse'));
            expect(activityTreatment.format(course)).to.eql(expectedRes);
            done();
        });
    });
});